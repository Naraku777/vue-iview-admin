webpackJsonp([7],{100:function(t,e,n){"use strict";e.a=[{path:"/api/dashboard",type:"get",data:function(){return a}}];var a={success:!0,data:{numbers:[{key:"active",title:"实时激活路由器",icon:"ios-lightbulb-outline",color:"#8fc9fb",number:11240},{key:"online",title:"日活跃终端",icon:"ios-analytics-outline",color:"#64ea91",number:26288},{key:"connect",title:"累计连接终端",icon:"ios-pulse",color:"#d897eb",number:134889},{key:"view",title:"浏览量",icon:"ios-eye-outline",color:"#f69899",number:58023}],regionChartData:{title:"全国分布图",data:[{name:"广东",percent:17},{name:"上海",percent:16.9},{name:"福建",percent:19.5},{name:"江苏",percent:14.5},{name:"江西",percent:18.2},{name:"山西",percent:11.5},{name:"四川",percent:15.2}]},terminalChartData:{title:"用户终端分布图",data:[{name:"手机",value:1098},{name:"平板",value:50},{name:"电脑",value:239},{name:"其他",value:64}]},osChartData:{title:"用户系统分布图",data:[{name:"苹果系统",value:297},{name:"微软系统",value:223},{name:"安卓系统",value:862},{name:"其他",value:69}]},ageChartData:{title:"用户年龄分布图",data:[{name:"小于19岁",percent:20.36},{name:"19-24岁",percent:12.7},{name:"24-30岁",percent:32.27},{name:"30-40岁",percent:19.15},{name:"大于40岁",percent:14.52}]}}}},101:function(t,e,n){"use strict";var a=n(60),r=n.n(a);e.a=[{path:"/api/login",type:"post",data:function(t){var e=JSON.parse(t.body),n=s[e.username];return n&&e.password===n.password?{data:{success:!0,user:o(e.username)}}:{data:{success:!1,msg:"username or password is error"}}}},{path:"/api/logout",type:"post",data:{data:{success:!0}}}];var o=function(t){var e=s[t];if(e){var n=r()({},e);return delete n.password,n}return null},s={admin:{token:"9GNAdsIedU6PGWMf",role:["admin"],name:"管理员",password:"mdmp2017",avatar:""},guest:{token:"l33WzPqJfJQa2oGS",role:["guest"],name:"访客",password:"guest2017",avatar:""}}},102:function(t,e,n){"use strict";e.a={token:function(t){return t.user.token},name:function(t){return t.user.name},statisticsNumbers:function(t){return t.dashboard.numbers},regionChartData:function(t){return t.dashboard.regionChartData},ageChartData:function(t){return t.dashboard.ageChartData},osChartData:function(t){return t.dashboard.osChartData},terminalChartData:function(t){return t.dashboard.terminalChartData}}},103:function(t,e,n){"use strict";var a=n(10),r=n.n(a),o=n(24),s=n.n(o),i=n(97),u=n(17),c={numbers:[],regionChartData:{},ageChartData:{},osChartData:{},terminalChartData:{}},l={fetchDashboard:function(t){var e=t.commit;i.a().then(function(t){return e(u.j,t)})}},f=r()({},u.j,function(t,e){var n=e.data;s()(t,n)});e.a={state:c,actions:l,mutations:f}},104:function(t,e,n){"use strict";var a,r,o=n(10),s=n.n(o),i=n(44),u=n.n(i),c=n(140),l=n.n(c),f=n(98),m=n(17),d={username:"",status:"",token:l.a.get("X-Token")||"",name:l.a.get("user_name")||"",avatar:"",roles:[]},p=(a={},s()(a,"user/login",function(t,e){var n=t.commit,a=e.username.trim();return new u.a(function(t,r){f.a(a,e.password).then(function(e){var a=e.data;a.success&&(n(m.a,a.user.token),n(m.b,a.user.token),n(m.c,a.user.name),t()),r(a.msg)}).catch(function(t){return r(t)})})}),s()(a,"user/logout",function(t){var e=t.commit,n=t.state;return new u.a(function(t,a){f.b(n.token).then(function(){e(m.d),e(m.b,""),t()}).catch(function(t){return a(t)})})}),a),h=(r={},s()(r,m.a,function(t,e){l.a.set("X-Token",e,{expires:1})}),s()(r,m.d,function(){l.a.remove("X-Token"),l.a.remove("user_name")}),s()(r,m.e,function(t,e){t.username=e}),s()(r,m.c,function(t,e){l.a.set("user_name",e,{expires:1}),t.name=e}),s()(r,m.b,function(t,e){t.token=e}),s()(r,m.f,function(t,e){t.avatar=e}),s()(r,m.g,function(t,e){t.roles=e}),s()(r,m.h,function(t,e){t.status=e}),r);e.a={state:d,actions:p,mutations:h}},105:function(t,e,n){"use strict";var a=n(10),r=n.n(a),o=n(92),s=n(17);e.a=r()({},s.i,function(t,e){var n=e.type,a=e.content;o.a[n](a)})},137:function(t,e){},143:function(t,e,n){var a=n(18)(n(94),n(145),null,null);t.exports=a.exports},144:function(t,e,n){var a=n(18)(n(95),n(147),null,null);t.exports=a.exports},145:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transitionName}},[n("div",{class:t.classes,style:t.styles},[n("div",{ref:"content",class:[t.baseClass+"-content"],domProps:{innerHTML:t._s(t.content)}}),t._v(" "),t.closable?n("a",{class:[t.baseClass+"-close"],on:{click:t.close}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]):t._e()])])},staticRenderFns:[]}},146:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},147:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes,style:t.styles},t._l(t.notices,function(e){return n("Notice",{key:e.name,attrs:{"prefix-cls":t.prefixCls,styles:e.styles,content:e.content,duration:e.duration,closable:e.closable,name:e.name,"transition-name":e.transitionName,"on-close":e.onClose}})}))},staticRenderFns:[]}},17:function(t,e,n){"use strict";n.d(e,"i",function(){return a}),n.d(e,"j",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return i}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"g",function(){return f}),n.d(e,"b",function(){return m});var a="SHOW_MESSAGE",r="RECEIVE_DASHBOARD",o="LOGIN_SUCCESS",s="LOGOUT_SUCCESS",i="SET_USER_USERNAME",u="SET_USER_NAME",c="SET_USER_AVATAR",l="SET_USER_STATUS",f="SET_USER_ROLES",m="SET_USER_TOKEN"},31:function(t,e,n){"use strict";var a=n(7),r=n(64),o=n(102),s=n(105),i=n(103),u=n(104);a.default.use(r.a);e.a=new r.a.Store({getters:o.a,mutations:s.a,modules:{dashboard:i.a,user:u.a},strict:!1})},43:function(t,e,n){"use strict";function a(t){return new o.a(function(e,n){i.a.create({timeout:1e3})(t).then(function(t){var n=t.data;e(n)}).catch(function(t){u.a.commit(c.i,{type:"error",content:t}),n(t)})})}var r=n(44),o=n.n(r),s=n(30),i=n.n(s),u=n(31),c=n(17);e.a=a},51:function(t,e,n){"use strict";var a=n(141),r=n.n(a),o=n(100),s=n(101),i=function(t){t.forEach(function(t){return r.a.mock(t.path,t.type,t.data)})};i(o.a),i(s.a),r.a.setup({timeout:"100-500"});r.a},52:function(t,e,n){"use strict";var a=n(7),r=n(148);a.default.use(r.a);var o=function(t){return n.e(2).then(function(){return t(n(154))}.bind(null,n)).catch(n.oe)},s=function(t){return n.e(0).then(function(){return t(n(153))}.bind(null,n)).catch(n.oe)},i=function(t){return n.e(3).then(function(){return t(n(156))}.bind(null,n)).catch(n.oe)},u=function(t){return n.e(4).then(function(){return t(n(155))}.bind(null,n)).catch(n.oe)},c=function(t){return n.e(5).then(function(){return t(n(152))}.bind(null,n)).catch(n.oe)},l=function(t){return n.e(1).then(function(){return t(n(157))}.bind(null,n)).catch(n.oe)},f=[{path:"/",redirect:"/index"},{path:"/index",component:o,meta:{title:"主页"},children:[{alias:"",path:"/dashboard",name:"dashboard",component:s,meta:{title:"Dashboard"}},{path:"/task",name:"task",component:i,meta:{title:"Task"}},{path:"/submenu",name:"submenu",meta:{title:"Submenu",isSubmenu:!0},children:[{path:"/submenu/subpage",name:"subPage",component:u,meta:{title:"Sub Page"}}]},{path:"*",name:"index - 404",component:c,meta:{title:"404 Not Found"}}]},{path:"/login",name:"login",component:l},{path:"*",name:"404",component:c,meta:{title:"404 Not Found"}}],m=new r.a({routes:f,mode:"hash"});e.a=m},53:function(t,e){},54:function(t,e){},55:function(t,e){},58:function(t,e,n){n(137);var a=n(18)(n(96),n(146),null,null);t.exports=a.exports},94:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),r=n.n(a);e.default={props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},content:{type:String,default:""},styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String}},data:function(){return{withDesc:!1}},computed:{baseClass:function(){return this.prefixCls+"-notice"},classes:function(){var t;return[this.baseClass,(t={},r()(t,""+this.className,!!this.className),r()(t,this.baseClass+"-closable",this.closable),r()(t,this.baseClass+"-with-desc",this.withDesc),t)]},contentClasses:function(){return this.baseClass+"-content"}},methods:{clearCloseTimer:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close:function(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)}},mounted:function(){var t=this;this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout(function(){t.close()},1e3*this.duration)),"ivu-notice"===this.prefixCls&&(this.withDesc=""!==this.$refs.content.querySelectorAll("."+this.prefixCls+"-desc")[0].innerHTML)},beforeDestroy:function(){this.clearCloseTimer()}}},95:function(t,e,n){"use strict";function a(){return"ivuNotification_"+f+"_"+l++}Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),o=n.n(r),s=n(10),i=n.n(s),u=n(143),c=n.n(u),l=0,f=Date.now();e.default={components:{Notice:c.a},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data:function(){return{notices:[]}},computed:{classes:function(){return[""+this.prefixCls,i()({},""+this.className,!!this.className)]}},methods:{add:function(t){var e=t.name||a(),n=o()({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:e},t);this.notices.push(n)},close:function(t){for(var e=this.notices,n=0;n<e.length;n++)if(e[n].name===t){this.notices.splice(n,1);break}},closeAll:function(){this.notices=[]}}}},96:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},97:function(t,e,n){"use strict";function a(){var t={url:"/api/dashboard",method:"get",parmas:{}};return n.i(r.a)(t)}var r=n(43);e.a=a},98:function(t,e,n){"use strict";function a(t,e){var a={username:t,password:e},r={url:"/api/login",method:"post",data:a};return n.i(o.a)(r)}function r(t){var e={token:t},a={url:"/api/logout",method:"post",data:e};return n.i(o.a)(a)}var o=n(43);e.a=a,e.b=r},99:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),r=n(56),o=n.n(r),s=n(30),i=n.n(s),u=n(57),c=n.n(u),l=n(58),f=n.n(l),m=n(52),d=n(31),p=(n(51),n(54)),h=(n.n(p),n(53)),v=(n.n(h),n(55));n.n(v);a.default.use(o.a),a.default.prototype.$http=i.a,a.default.config.productionTip=!1,c.a.configure({showSpinner:!1});var b=["/login"];m.a.beforeEach(function(t,e,n){c.a.start();var a=t.path;d.a.getters.token?n():b.includes(a)?n():n({path:"/login",query:{redirect:t.fullPath}})}),m.a.afterEach(function(){setTimeout(function(){c.a.done()},200)}),new a.default({el:"#app",router:m.a,store:d.a,template:"<App/>",components:{App:f.a}})}},[99]);
//# sourceMappingURL=app.f53cc056f0ef1f81addc.js.map